(function(){"use strict";var n={3504:function(n,o,e){var t=e(5328),c=e(8464),i=e(6760);const s={id:"app"};function r(n,o,e,t,c,r){return(0,i.Wz)(),(0,i.An)("div",s,[(0,i.QD)("button",{onClick:o[0]||(o[0]=(...n)=>r.login&&r.login(...n))},"Login with GitHub")])}e(2168),e(5104),e(8312);const a=(0,c.O6)("auth",{state:()=>({accessToken:null}),actions:{setAccessToken(n){this.accessToken=n}}});const l="d9e20d499a3894452cdd",u="bb31e83cd0fff1cf60db4305e8b9ef3f168f41b4";console.log("process.env: ",{VUE_APP_GITHUB_CLIENT_ID:"d9e20d499a3894452cdd",VUE_APP_GITHUB_CLIENT_SECRET:"bb31e83cd0fff1cf60db4305e8b9ef3f168f41b4",NODE_ENV:"production",VUE_APP_GITHUB_PERSONAL_ACCESS_TOKEN:"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",BASE_URL:"/gists-manager/"}),console.log("Client",l,u);var f={name:"App",mounted(){console.log("mounted called"),window.location.search.includes("code")&&(console.log("includes code"),this.handleCallback())},methods:{async login(){window.location.href=`https://github.com/login/oauth/authorize?client_id=${l}&scope=user`},async handleCallback(){console.log("handleCallback called");const n=new URLSearchParams(window.location.search).get("code");console.log("code",n);JSON.stringify({client_id:l,client_secret:u,code:n});const o=await fetch("https://github.com/login/oauth/access_token",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client_id:l,client_secret:u,code:n})});console.log("response: ",o);const e=await o.json();console.log("data: ",e);const t=e.access_token;console.log("accessToken",t),localStorage.setItem("accessToken",t),window.location.href="/test",a().setAccessToken(t)}}},d=e(8152);const h=(0,d.c)(f,[["render",r]]);var g=h;const p=(0,c.Kw)(),b=(0,t.W0)(g);b.use(p),b.mount("#app")}},o={};function e(t){var c=o[t];if(void 0!==c)return c.exports;var i=o[t]={exports:{}};return n[t].call(i.exports,i,i.exports,e),i.exports}e.m=n,function(){var n=[];e.O=function(o,t,c,i){if(!t){var s=1/0;for(u=0;u<n.length;u++){t=n[u][0],c=n[u][1],i=n[u][2];for(var r=!0,a=0;a<t.length;a++)(!1&i||s>=i)&&Object.keys(e.O).every((function(n){return e.O[n](t[a])}))?t.splice(a--,1):(r=!1,i<s&&(s=i));if(r){n.splice(u--,1);var l=c();void 0!==l&&(o=l)}}return o}i=i||0;for(var u=n.length;u>0&&n[u-1][2]>i;u--)n[u]=n[u-1];n[u]=[t,c,i]}}(),function(){e.d=function(n,o){for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)}}(),function(){var n={524:0};e.O.j=function(o){return 0===n[o]};var o=function(o,t){var c,i,s=t[0],r=t[1],a=t[2],l=0;if(s.some((function(o){return 0!==n[o]}))){for(c in r)e.o(r,c)&&(e.m[c]=r[c]);if(a)var u=a(e)}for(o&&o(t);l<s.length;l++)i=s[l],e.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return e.O(u)},t=self["webpackChunkgithub_gists_manager"]=self["webpackChunkgithub_gists_manager"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=e.O(void 0,[999],(function(){return e(3504)}));t=e.O(t)})();
//# sourceMappingURL=app.2dbf6ddd.js.map